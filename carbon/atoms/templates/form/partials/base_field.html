{% load i18n %}

<div class="{% spaceless %}form-field form-field-type-{{model_field.type}} 
{% if model_field.required %}required{% endif %} 

{% if request.POST %}
{% if field.errors %}invalid {% else %}valid {% endif %}
{% endif %}

{% if model_field.icon %}has-icon {% endif %}
{% if model_field.extra_css_classes %}{{model_field.extra_css_classes}} {% endif %}

{% endspaceless %}">
    
    {% block field-inner %}

    {% block labels %}
    <label for="{{ field.auto_id }}">{{model_field.title|safe}}</label>
    
    {% if model_field.secondary_label %}
    <span class="secondary-label">{{model_field.secondary_label|safe}}</span>
    {% endif %}   

    {% endblock %}


    {% block input %}
    <input 
        type="{{model_field.input_type}}"
        name="{{ field.name }}" 
        id="{{ field.auto_id }}" 
        class="field-type-{{model_field.type}}"

        {% block field_attributes %}{{block.super}}{% endblock %}


        {% block value %}
        {% if not hide_post_value %}
        {% if override_value and not request.POST %}
        value="{{ override_value }}"
        {% else %}
        value="{{ field.value|default_if_none:'' }}"
        {% endif %}
        {% endif %}
        {% endblock %}
        
        {% if model_field.placeholder_text %} 
        placeholder="{{model_field.placeholder_text|striptags|safe}}" 
        data-placeholder="{{model_field.placeholder_text|striptags|safe}}" 
        {% endif %}

        {% if model_field.max_length %}maxlength="{{model_field.max_length}}" {% endif %} 
        {% if model_field.pattern %}pattern="{{model_field.pattern}}" {% endif %}

        {% if model_field.prefix %}data-prefix="{{model_field.prefix}}" {% endif %}
    />
    {% endblock %}

    {% if model_field.icon %}<span class="icon fa fa-{{model_field.icon}}"></span>{% endif %}


    {% block messages %}
    {% if field.messages %}
    <span class="message">{{field.messages.safe}}</span>
    {% endif %}  

    {% if field.errors %}
    <span class="error-message">{{ field.errors|safe }}</span>
    {% endif %}
 
    {% if model_field.help_text %}
    <span class="help-text">{{model_field.help_text|safe}}</span>
    {% endif %}    
    {% endblock %}

    {% endblock %}
</div>